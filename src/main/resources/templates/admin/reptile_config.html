<!DOCTYPE html>
<html lang="zh" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no"/>
    <title>爬虫配置</title>
    <link href="/css/bootstrap.min.css" rel="stylesheet">
    <link href="/css/materialdesignicons.min.css" rel="stylesheet">
    <link href="/css/style.min.css" rel="stylesheet">
</head>

<body>
<div class="container-fluid p-t-15">


    <div class="row">
        <div class="col-lg-12">
            <div class="card">
                <div class="tab-content">
                    <div class="tab-pane active">

                        <div class="form-group">
                            <label>网络失败重试次数</label>
                            <input class="form-control" type="text" id="fail_time" th:value="${config.getFailTime()}"
                                   name="web_site_title" oninput="value=value.replace(/[^\d]/g,'')">
                        </div>
                        <div class="form-group">
                            <label>爬虫间隔(毫秒)</label>
                            <input class="form-control" type="text" id="delay" th:value="${config.getDelay()}"
                                   name="web_site_title" oninput="value=value.replace(/[^\d]/g,'')">
                        </div>
                        <div class="form-group">
                            <label>失败时增加延迟(毫秒/次)</label>
                            <input class="form-control" type="text" id="fail_delay" th:value="${config.getFailDelay()}"
                                   name="web_site_keywords" oninput="value=value.replace(/[^\d]/g,'')">
                        </div>
                        <div class="form-group">
                            <label>URL处理线程无任务时状态</label>
                            <div class="example-box">
                                <label class="lyear-radio radio-inline radio-primary">
                                    <input type="radio" th:checked="${config.getUrlThreadFlag()==true}" value="1"
                                           name="url_radio"><span>保持</span>
                                </label>
                                <label class="lyear-radio radio-inline radio-primary">
                                    <input type="radio" th:checked="${config.getUrlThreadFlag()}==false" value="0"
                                           name="url_radio" checked="checked"><span>停止</span>
                                </label>
                            </div>
                        </div>
                        <div class="form-group">
                            <label>Novel处理线程无任务时状态</label>
                            <div class="example-box">
                                <label class="lyear-radio radio-inline radio-primary">
                                    <input type="radio" name="novel_radio" value="1"
                                           th:checked="${config.getNovelThreadFlag() == true}"><span>保持</span>
                                </label>
                                <label class="lyear-radio radio-inline radio-primary">
                                    <input type="radio" name="novel_radio" value="0"
                                           th:checked="${config.getNovelThreadFlag() == false}"><span>停止</span>
                                </label>
                            </div>
                        </div>
                        <div class="form-group">
                            <button class="btn  btn-primary" id="config_btn_update"><label></i></label> 确认更新</button>
                        </div>
                    </div>
                </div>

            </div>
        </div>

    </div>
</div>
    <script type="text/javascript" src="/js/jquery.min.js"></script>
    <script type="text/javascript" src="/js/bootstrap.min.js"></script>
    <script type="text/javascript" src="/js/main.min.js"></script>
    <!--消息提示-->
    <script src="/js/bootstrap-notify.min.js"></script>
    <script type="text/javascript" src="/js/lightyear.js"></script>
    <script type="text/javascript" src="/js/main.min.js"></script>
    <script type="text/javascript" src="/ajax/ajax.js"></script>
    <script>
        $(function () {
            $("#config_btn_update").click(function () {
                var failTime = $("#fail_time").val();
                var delay = $("#delay").val();
                var failDelay = $("#fail_delay").val();
                var url_radio = $("input[name='url_radio']:checked").val();
                var novel_radio = $("input[name='novel_radio']:checked").val();
                updateReptileConfig(failTime, delay, failDelay, url_radio, novel_radio)
            });
        });


    </script>
</body>
</html>